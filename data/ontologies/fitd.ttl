@prefix fitd:   <https://schema.rpg-schema.org/fitd#> .
@prefix rpg:    <https://schema.rpg-schema.org/rpg#> .
@prefix owl:    <http://www.w3.org/2002/07/owl#> .
@prefix rdf:    <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:   <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:    <http://www.w3.org/2001/XMLSchema#> .
@prefix schema: <https://schema.org/> .
@prefix skos:   <http://www.w3.org/2004/02/skos/core#> .
@prefix dc:     <http://purl.org/dc/elements/1.1/> .

# ================================================================
# ONTOLOGY HEADER
# ================================================================

<https://schema.rpg-schema.org/fitd>
    a owl:Ontology ;
    dc:title "Forged in the Dark — General Rules Ontology (rpg-schema aligned)" ;
    dc:description """OWL ontology for the Forged in the Dark SRD, grounded in rpg-schema.org/rpg.
    FITD-native classes use owl:equivalentClass to align with rpg: counterparts.
    FITD-exclusive concepts (Score, Flashback, Vice, Ritual, Plan, Magnitude, etc.) 
    are expressed in the fitd: namespace with rpg: properties and LLMArtifact annotations.
    The 12 actions and 3 attributes are modelled as rpg:RuleSetAttribute individuals.""" ;
    dc:source "Blades in the Dark SRD — John Harper, Evil Hat Productions" ;
    owl:imports <https://schema.rpg-schema.org/rpg> ;
    owl:versionInfo "2.0.0" .

# ================================================================
# RULESET ROOT
# ================================================================

fitd:FITDRuleSet
    a rpg:RuleSet ;
    schema:name "Forged in the Dark" ;
    schema:description "The general SRD rules for Forged in the Dark games, based on Blades in the Dark by John Harper." ;
    rpg:usesResolutionModel fitd:DicePoolModel_FITD ;
    rpg:llmDescriptor """Forged in the Dark (FITD) is a narrative RPG system built on dice pools of d6s.
Roll a pool equal to a trait rating; read the single highest die: 1-3 bad, 4-5 partial, 6 success, two+ 6s critical.
Core fiction-first loop: Free Play → Engagement → Score → Downtime → repeat.
Key mechanics: Position (risk level), Effect (impact level), Progress Clocks, Stress/Trauma, Flashbacks, Downtime Activities.""" .

fitd:DicePoolModel_FITD
    a rpg:DicePoolModel ;
    schema:name "FITD Dice Pool" ;
    rpg:rollExpression "Nd6 take highest: 1-3=bad, 4-5=partial, 6=success, two+ 6s=critical. Pool 0 or less: roll 2d6 take lowest, no critical possible." .

# ================================================================
# SECTION 1 — RESOLUTION MODEL: Roll types
# All are subclasses of rpg:Roll
# ================================================================

fitd:Roll
    owl:equivalentClass rpg:Roll ;
    rdfs:label "Roll" ;
    rdfs:comment "Abstract FITD roll. Pool of d6s from a trait rating; read single highest." ;
    rpg:llmDescriptor "Abstract superclass for all FITD rolls. Pool = trait rating in d6s. ≤0: roll 2d take lowest, no crit. Results: 1-3 Bad, 4-5 Partial, 6 Full, two+ 6s Critical." .

fitd:ActionRoll
    a owl:Class ;
    rdfs:subClassOf rpg:Roll ;
    rdfs:label "Action Roll" ;
    rdfs:comment "Made when a PC does something dangerous or troublesome. Requires goal, action, position, effect level." ;
    rpg:rollExpression "Pool = action rating (0-4). Desperate roll grants 1 XP in attribute track." ;
    rpg:rollUsesKnob fitd:Position_Knob ;
    rpg:rollUsesKnob fitd:EffectLevel_Knob ;
    rpg:rollAllowsModifier fitd:AssistModifier ;
    rpg:rollAllowsModifier fitd:PushYourselfModifier ;
    rpg:rollAllowsModifier fitd:DevilsBargainModifier ;
    rpg:llmDescriptor """Action Roll: the primary FITD roll. Pre-roll checklist: (1) Goal, (2) Action chosen from 12, (3) Position set by GM, (4) Effect level set by GM.
Partial (4-5): goal achieved with consequence at position severity. Bad (1-3): usually fail + worse consequence.
Desperate grants 1 XP in the relevant attribute (Insight/Prowess/Resolve).""" ;
    rpg:hasLLMArtifact [
        a rpg:LLMArtifact ;
        rpg:artifactType fitd:ArtifactType_Descriptor ;
        rpg:artifactFormat "markdown" ;
        rpg:artifactLanguage "en" ;
        rpg:artifactText """## Action Roll

**Pre-roll checklist (all four required):**
1. **Goal** — concrete fictional outcome the PC wants
2. **Action** — one of 12 FITD actions (Hunt/Study/Survey/Tinker/Finesse/Prowl/Skirmish/Wreck/Attune/Command/Consort/Sway)
3. **Position** — Controlled / Risky / Desperate
4. **Effect Level** — Zero / Limited / Standard / Great

**Consequence by position:**
| Position | Typical consequence on 4-5 or 1-3 |
|---|---|
| Controlled | Lesser harm, -1 effect, or minor complication |
| Risky | Moderate harm, worse position, meaningful complication |
| Desperate | Severe harm, lost opportunity, serious complication |

**Bonus dice (max +2 total):** Assist (+1d, costs teammate 1 stress), Push Yourself (+1d, costs 2 stress), Devil's Bargain (+1d, complication regardless of outcome)."""
    ] .

fitd:FortuneRoll
    a owl:Class ;
    rdfs:subClassOf rpg:Roll ;
    rdfs:label "Fortune Roll" ;
    rdfs:comment "GM disclaims decision to chance. Pool is any relevant trait." ;
    rpg:rollExpression "Pool = relevant trait (faction Tier, quality, magnitude, action rating). No position/effect framing." ;
    rpg:llmDescriptor "Fortune Roll: GM tool for chance-based outcomes when PCs are not directly involved. Pool = any relevant trait rating." .

fitd:ResistanceRoll
    a owl:Class ;
    rdfs:subClassOf rpg:Roll ;
    rdfs:label "Resistance Roll" ;
    rdfs:comment "Resist a consequence. Always succeeds in reducing/avoiding it. Cost: 6 minus highest die in stress. Critical: clear 1 stress." ;
    rpg:rollExpression "Pool = attribute rating (Insight/Prowess/Resolve). Stress cost = 6 − highest die. Critical = clear 1 stress instead." ;
    rpg:llmDescriptor "Resistance Roll: player may always offer. Attribute chosen by GM based on consequence type. Cost is stress, never failure — always reduces/avoids the consequence." .

fitd:DowntimeRoll
    a owl:Class ;
    rdfs:subClassOf rpg:Roll ;
    rdfs:label "Downtime Roll" ;
    rdfs:comment "Made during downtime activities. Coin may be spent 1-for-1 to raise result level." ;
    rpg:rollExpression "Pool = relevant action or Tier. Coin spend 1-for-1 to raise result tier after rolling." ;
    rpg:llmDescriptor "Downtime Roll: resolves a downtime activity. Outcome scale: Crit=5 ticks/Tier+2, 6=3 ticks/Tier+1, 4-5=2 ticks/Tier, 1-3=1 tick/Tier-1." .

fitd:EngagementRoll
    a owl:Class ;
    rdfs:subClassOf fitd:FortuneRoll ;
    rdfs:label "Engagement Roll" ;
    rdfs:comment "Fortune roll that sets starting position for a score. Starts 1d; modified by plan advantages/disadvantages." ;
    rpg:rollExpression "Start 1d for sheer luck. Modify for major advantages (+1d each) and disadvantages (-1d each). Result: 1-3=Desperate, 4-5=Risky, 6=Controlled, Crit=beyond first obstacle." ;
    rpg:llmDescriptor "Engagement Roll: cuts to the action at the right moment. Narrate the result as the fictional opening scene of the score — don't describe the approach, describe where the crew lands." .

fitd:ViceRoll
    a owl:Class ;
    rdfs:subClassOf fitd:DowntimeRoll ;
    rdfs:label "Vice Roll" ;
    rdfs:comment "Indulge vice to clear stress. Pool = lowest attribute rating. Clear stress = highest die. Overindulge if clearing more than marked." ;
    rpg:rollExpression "Pool = lowest attribute rating. Stress cleared = highest die result. If cleared > stress marked: overindulge." ;
    rpg:llmDescriptor "Vice Roll: the only official stress relief. Overindulgence triggers a consequence (AttractTrouble, Brag, Lost, Tapped). Not indulging costs stress = trauma count." .

# Roll modifier individuals (rpg:RollModifier)

fitd:AssistModifier
    a rpg:RollModifier ;
    schema:name "Assist" ;
    schema:termCode "assist" ;
    rpg:llmDescriptor "Teammate describes help, takes 1 stress: +1d to your roll. Only one character may assist a given roll. May suffer consequences from that roll." .

fitd:PushYourselfModifier
    a rpg:RollModifier ;
    schema:name "Push Yourself" ;
    schema:termCode "push-yourself" ;
    rpg:llmDescriptor "Take 2 stress: gain +1d OR +1 effect OR act when incapacitated. Cannot combine with Devil's Bargain." .

fitd:DevilsBargainModifier
    a rpg:RollModifier ;
    schema:name "Devil's Bargain" ;
    schema:termCode "devils-bargain" ;
    rpg:llmDescriptor "+1d but a complication occurs regardless of the roll outcome, chosen by GM or another player. Cannot combine with Push Yourself." .

# ================================================================
# SECTION 2 — FICTION KNOBS: Position and Effect Level
# owl:equivalentClass to rpg:RiskPosition and rpg:EffectLevel
# ================================================================

fitd:Position
    owl:equivalentClass rpg:RiskPosition ;
    rdfs:label "Position" ;
    rdfs:comment "Risk position of an action roll. Determines consequence severity." .

fitd:Position_Knob
    a rpg:RiskPosition ;
    schema:name "FITD Position" ;
    rpg:knobDefinedInRuleSet fitd:FITDRuleSet ;
    rpg:llmDescriptor "FITD position knob: Controlled (safe, limited consequences), Risky (default, moderate danger), Desperate (high danger, severe consequences, +1 XP)." .

fitd:Controlled
    a owl:NamedIndividual, rpg:RiskPosition ;
    schema:name "Controlled" ;
    schema:termCode "controlled" ;
    rpg:knobDefinedInRuleSet fitd:FITDRuleSet ;
    rpg:llmDescriptor "Controlled: lower risk. Consequences are less severe. Crew has the upper hand." .

fitd:Risky
    a owl:NamedIndividual, rpg:RiskPosition ;
    schema:name "Risky" ;
    schema:termCode "risky" ;
    rpg:knobDefinedInRuleSet fitd:FITDRuleSet ;
    rpg:llmDescriptor "Risky: default position. Moderate danger. Harm, complications, or worse position on 4-5 or 1-3." .

fitd:Desperate
    a owl:NamedIndividual, rpg:RiskPosition ;
    schema:name "Desperate" ;
    schema:termCode "desperate" ;
    rpg:knobDefinedInRuleSet fitd:FITDRuleSet ;
    rpg:llmDescriptor "Desperate: high danger. Severe harm or serious complications even on partial success. Grants 1 XP in the rolled attribute." .

fitd:EffectLevel
    owl:equivalentClass rpg:EffectLevel ;
    rdfs:label "Effect Level" ;
    rdfs:comment "Magnitude of impact. Great ticks 3 clock segments, Standard 2, Limited 1, Zero 0." .

fitd:EffectLevel_Knob
    a rpg:EffectLevel ;
    schema:name "FITD Effect Level" ;
    rpg:knobDefinedInRuleSet fitd:FITDRuleSet ;
    rpg:llmDescriptor "FITD effect knob: assess Potency, Quality/Tier, Scale. Each factor can raise or lower effect independently." .

fitd:ZeroEffect
    a owl:NamedIndividual, rpg:EffectLevel ;
    schema:name "Zero Effect" ;
    schema:termCode "zero" ;
    rpg:knobDefinedInRuleSet fitd:FITDRuleSet .

fitd:LimitedEffect
    a owl:NamedIndividual, rpg:EffectLevel ;
    schema:name "Limited Effect" ;
    schema:termCode "limited" ;
    rpg:llmDescriptor "Limited: ticks 1 clock segment. Weak or partial impact." .

fitd:StandardEffect
    a owl:NamedIndividual, rpg:EffectLevel ;
    schema:name "Standard Effect" ;
    schema:termCode "standard" ;
    rpg:llmDescriptor "Standard: ticks 2 clock segments. Normal expected impact." .

fitd:GreatEffect
    a owl:NamedIndividual, rpg:EffectLevel ;
    schema:name "Great Effect" ;
    schema:termCode "great" ;
    rpg:llmDescriptor "Great: ticks 3 clock segments. Exceptional impact." .

fitd:ExtremeEffect
    a owl:NamedIndividual, rpg:EffectLevel ;
    schema:name "Extreme Effect" ;
    schema:termCode "extreme" ;
    rpg:llmDescriptor "Extreme: beyond Great. Exceptional circumstances only." .

# ================================================================
# SECTION 3 — ATTRIBUTES AND ACTIONS as rpg:RuleSetAttribute
# Attributes (Insight/Prowess/Resolve): parent attributes
# Actions (12): child RuleSetAttributes, linked to parent via schema:isPartOf
# ================================================================

# Parent attributes

fitd:Insight
    a rpg:RuleSetAttribute ;
    schema:name "Insight" ;
    schema:termCode "insight" ;
    schema:inDefinedTermSet fitd:FITDRuleSet ;
    rpg:definedInRuleSet fitd:FITDRuleSet ;
    schema:description "Mental acuity and perception. Groups Hunt, Study, Survey, Tinker. Rating = filled dots in first column of grouped actions. Used for resistance rolls vs deception/understanding consequences." ;
    rpg:llmDescriptor "Insight attribute: resists consequences from deception or understanding. Rating derived from action dots. Groups: Hunt, Study, Survey, Tinker." .

fitd:Prowess
    a rpg:RuleSetAttribute ;
    schema:name "Prowess" ;
    schema:termCode "prowess" ;
    schema:inDefinedTermSet fitd:FITDRuleSet ;
    rpg:definedInRuleSet fitd:FITDRuleSet ;
    schema:description "Physical capability and dexterity. Groups Finesse, Prowl, Skirmish, Wreck. Used for resistance rolls vs physical strain or injury." ;
    rpg:llmDescriptor "Prowess attribute: resists consequences from physical strain or injury. Groups: Finesse, Prowl, Skirmish, Wreck." .

fitd:Resolve
    a rpg:RuleSetAttribute ;
    schema:name "Resolve" ;
    schema:termCode "resolve" ;
    schema:inDefinedTermSet fitd:FITDRuleSet ;
    rpg:definedInRuleSet fitd:FITDRuleSet ;
    schema:description "Willpower and social force. Groups Attune, Command, Consort, Sway. Used for resistance rolls vs mental strain or willpower." ;
    rpg:llmDescriptor "Resolve attribute: resists consequences from mental strain or willpower. Groups: Attune, Command, Consort, Sway." .

# Insight actions

fitd:Hunt
    a rpg:RuleSetAttribute ;
    schema:name "Hunt" ;
    schema:termCode "hunt" ;
    schema:inDefinedTermSet fitd:FITDRuleSet ;
    rpg:definedInRuleSet fitd:FITDRuleSet ;
    schema:isPartOf fitd:Insight ;
    schema:description "Carefully track a target. Follow, locate, arrange ambushes, attack with precision at range. Rating 0-4." ;
    rpg:llmDescriptor "Hunt (Insight): track targets, arrange ambushes, ranged precision attacks." .

fitd:Study
    a rpg:RuleSetAttribute ;
    schema:name "Study" ;
    schema:termCode "study" ;
    schema:inDefinedTermSet fitd:FITDRuleSet ;
    rpg:definedInRuleSet fitd:FITDRuleSet ;
    schema:isPartOf fitd:Insight ;
    schema:description "Scrutinize details, gather info from documents, research esoteric topics, detect lies. Rating 0-4." ;
    rpg:llmDescriptor "Study (Insight): scrutinize details, research, detect lies, gather information from documents." .

fitd:Survey
    a rpg:RuleSetAttribute ;
    schema:name "Survey" ;
    schema:termCode "survey" ;
    schema:inDefinedTermSet fitd:FITDRuleSet ;
    rpg:definedInRuleSet fitd:FITDRuleSet ;
    schema:isPartOf fitd:Insight ;
    schema:description "Observe the situation, anticipate outcomes, spot trouble, uncover opportunities, detect intentions. Rating 0-4." ;
    rpg:llmDescriptor "Survey (Insight): observe situations, spot trouble, anticipate outcomes, detect intentions." .

fitd:Tinker
    a rpg:RuleSetAttribute ;
    schema:name "Tinker" ;
    schema:termCode "tinker" ;
    schema:inDefinedTermSet fitd:FITDRuleSet ;
    rpg:definedInRuleSet fitd:FITDRuleSet ;
    schema:isPartOf fitd:Insight ;
    schema:description "Fiddle with devices and mechanisms, pick locks, disable alarms, craft items, treat wounds. Rating 0-4." ;
    rpg:llmDescriptor "Tinker (Insight): devices, gadgets, lock-picking, crafting, wound treatment." .

# Prowess actions

fitd:Finesse
    a rpg:RuleSetAttribute ;
    schema:name "Finesse" ;
    schema:termCode "finesse" ;
    schema:inDefinedTermSet fitd:FITDRuleSet ;
    rpg:definedInRuleSet fitd:FITDRuleSet ;
    schema:isPartOf fitd:Prowess ;
    schema:description "Employ dextrous manipulation or subtle misdirection. Pickpocket, handle vehicles, formal dueling. Rating 0-4." ;
    rpg:llmDescriptor "Finesse (Prowess): dextrous manipulation, pickpocketing, vehicle handling, formal dueling." .

fitd:Prowl
    a rpg:RuleSetAttribute ;
    schema:name "Prowl" ;
    schema:termCode "prowl" ;
    schema:inDefinedTermSet fitd:FITDRuleSet ;
    rpg:definedInRuleSet fitd:FITDRuleSet ;
    schema:isPartOf fitd:Prowess ;
    schema:description "Traverse skillfully and quietly. Sneak, hide, run across rooftops, backstab from hiding. Rating 0-4." ;
    rpg:llmDescriptor "Prowl (Prowess): sneaking, hiding, traversal, backstabbing from concealment." .

fitd:Skirmish
    a rpg:RuleSetAttribute ;
    schema:name "Skirmish" ;
    schema:termCode "skirmish" ;
    schema:inDefinedTermSet fitd:FITDRuleSet ;
    rpg:definedInRuleSet fitd:FITDRuleSet ;
    schema:isPartOf fitd:Prowess ;
    schema:description "Entangle a target in close combat. Brawl, hack and slash, seize or hold position. Rating 0-4." ;
    rpg:llmDescriptor "Skirmish (Prowess): close combat, brawling, seizing and holding position." .

fitd:Wreck
    a rpg:RuleSetAttribute ;
    schema:name "Wreck" ;
    schema:termCode "wreck" ;
    schema:inDefinedTermSet fitd:FITDRuleSet ;
    rpg:definedInRuleSet fitd:FITDRuleSet ;
    schema:isPartOf fitd:Prowess ;
    schema:description "Unleash savage force. Smash, use explosives, sabotage, overwhelm with sheer force. Rating 0-4." ;
    rpg:llmDescriptor "Wreck (Prowess): savage force, explosives, sabotage, overwhelming force." .

# Resolve actions

fitd:Attune
    a rpg:RuleSetAttribute ;
    schema:name "Attune" ;
    schema:termCode "attune" ;
    schema:inDefinedTermSet fitd:FITDRuleSet ;
    rpg:definedInRuleSet fitd:FITDRuleSet ;
    schema:isPartOf fitd:Resolve ;
    schema:description "Open your mind to arcane power. Communicate with ghosts, perceive beyond normal sight, channel energy. Rating 0-4." ;
    rpg:llmDescriptor "Attune (Resolve): arcane perception, ghost communication, channelling electroplasmic energy." .

fitd:Command
    a rpg:RuleSetAttribute ;
    schema:name "Command" ;
    schema:termCode "command" ;
    schema:inDefinedTermSet fitd:FITDRuleSet ;
    rpg:definedInRuleSet fitd:FITDRuleSet ;
    schema:isPartOf fitd:Resolve ;
    schema:description "Compel swift obedience. Intimidate, threaten, lead a gang in group action. Rating 0-4." ;
    rpg:llmDescriptor "Command (Resolve): intimidation, threats, leading cohorts in group action." .

fitd:Consort
    a rpg:RuleSetAttribute ;
    schema:name "Consort" ;
    schema:termCode "consort" ;
    schema:inDefinedTermSet fitd:FITDRuleSet ;
    rpg:definedInRuleSet fitd:FITDRuleSet ;
    schema:isPartOf fitd:Resolve ;
    schema:description "Socialize with friends and contacts. Gain access to resources, information, people, or places. Rating 0-4." ;
    rpg:llmDescriptor "Consort (Resolve): socializing, networking, gaining access through social connections." .

fitd:Sway
    a rpg:RuleSetAttribute ;
    schema:name "Sway" ;
    schema:termCode "sway" ;
    schema:inDefinedTermSet fitd:FITDRuleSet ;
    rpg:definedInRuleSet fitd:FITDRuleSet ;
    schema:isPartOf fitd:Resolve ;
    schema:description "Influence with guile, charm, or argument. Lie convincingly, persuade, argue a compelling case. Rating 0-4." ;
    rpg:llmDescriptor "Sway (Resolve): guile, charm, persuasion, convincing lies." .

# ================================================================
# SECTION 4 — HARM, TRAUMA, CONSEQUENCES as rpg:State / rpg:Condition
# ================================================================

fitd:Harm
    owl:equivalentClass rpg:Harm ;
    rdfs:label "Harm" ;
    rdfs:comment "Lasting debility on a character's harm tracker. Levels 1-4." ;
    rpg:llmDescriptor """Harm: lasting debility. Level 1 = Reduced Effect; Level 2 = -1d on relevant rolls; Level 3 = Incapacitated/Need Help; Level 4 = Fatal (dead unless resisted).
Track layout: 2 slots at L1, 2 at L2, 1 at L3. If row full, escalate harm to next level.
All harm cleared when healing clock (4 segments) fills.""" ;
    rpg:hasLLMArtifact [
        a rpg:LLMArtifact ;
        rpg:artifactType fitd:ArtifactType_Descriptor ;
        rpg:artifactFormat "markdown" ;
        rpg:artifactLanguage "en" ;
        rpg:artifactText """## Harm

**Track layout per character:**
```
L1 (Lesser):   [slot 1] [slot 2]  → Reduced Effect on impeded rolls
L2 (Moderate): [slot 1] [slot 2]  → -1d on impeded rolls
L3 (Severe):   [slot 1]           → Incapacitated / Need Help
L4 (Fatal):    → Dead (unless resisted to L3)
```
**Escalation:** If the relevant level is full, harm moves to next level up.
**Healing:** Recover downtime activity ticks healing clock (4 seg). Filling it drops all harm one level.
**Narration rule:** Always give harm a specific name. "Gut-stabbed by the guard's blade" not just "Hurt"."""
    ] .

# Harm level individuals as rpg:Harm (State) instances

fitd:LesserHarm
    a rpg:Harm ;
    schema:name "Lesser Harm" ;
    schema:termCode "harm-1" ;
    rpg:consequenceSeverity 1 ;
    rpg:llmDescriptor "Level 1 harm. Penalty: Reduced Effect on rolls directly impeded. Examples: Battered, Drained, Distracted, Scared." .

fitd:ModerateHarm
    a rpg:Harm ;
    schema:name "Moderate Harm" ;
    schema:termCode "harm-2" ;
    rpg:consequenceSeverity 2 ;
    rpg:llmDescriptor "Level 2 harm. Penalty: -1d on rolls directly impeded. Examples: Exhausted, Deep Cut, Concussion, Panicked." .

fitd:SevereHarm
    a rpg:Harm ;
    schema:name "Severe Harm" ;
    schema:termCode "harm-3" ;
    rpg:consequenceSeverity 3 ;
    rpg:llmDescriptor "Level 3 harm. Penalty: Incapacitated / Need Help for affected activity. Examples: Impaled, Broken Leg, Shot in Chest." .

fitd:FatalHarm
    a rpg:Harm ;
    schema:name "Fatal Harm" ;
    schema:termCode "harm-4" ;
    rpg:consequenceSeverity 4 ;
    rpg:llmDescriptor "Level 4 harm. Death unless resisted (resistance roll can reduce to L3). Examples: Drowned, Stabbed in Heart, Electrocuted." .

# Trauma conditions as rpg:Condition individuals

fitd:Trauma
    owl:equivalentClass rpg:Condition ;
    rdfs:label "Trauma" ;
    rdfs:comment "Permanent personality condition. Gained when stress track is fully marked. Fourth trauma triggers retirement or imprisonment." ;
    rpg:llmDescriptor "Trauma: permanent. Acquired by marking last stress box. 4 traumas = retire/prison. Grants XP when it causes trouble in play. Always active as a personality filter." .

fitd:Cold     a rpg:Condition ; schema:name "Cold"     ; schema:termCode "cold"     ; rpg:stateDefinedInRuleSet fitd:FITDRuleSet ; rpg:llmDescriptor "Not moved by emotional appeals or social bonds. Flat affect, clipped sentences." .
fitd:Haunted  a rpg:Condition ; schema:name "Haunted"  ; schema:termCode "haunted"  ; rpg:stateDefinedInRuleSet fitd:FITDRuleSet ; rpg:llmDescriptor "Often lost in reverie, reliving horrors, seeing things. Distracted gaze, muttered names." .
fitd:Obsessed a rpg:Condition ; schema:name "Obsessed" ; schema:termCode "obsessed" ; rpg:stateDefinedInRuleSet fitd:FITDRuleSet ; rpg:llmDescriptor "Enthralled by one thing: activity, person, or ideology. Returns to it even when inappropriate." .
fitd:Paranoid a rpg:Condition ; schema:name "Paranoid" ; schema:termCode "paranoid" ; rpg:stateDefinedInRuleSet fitd:FITDRuleSet ; rpg:llmDescriptor "Imagines danger everywhere. Cannot fully trust others. Hyper-vigilant, suspicious of motives." .
fitd:Reckless a rpg:Condition ; schema:name "Reckless" ; schema:termCode "reckless" ; rpg:stateDefinedInRuleSet fitd:FITDRuleSet ; rpg:llmDescriptor "Little regard for own safety or best interests. Dismissive of danger, impatient with caution." .
fitd:Soft     a rpg:Condition ; schema:name "Soft"     ; schema:termCode "soft"     ; rpg:stateDefinedInRuleSet fitd:FITDRuleSet ; rpg:llmDescriptor "Loses edge. Becomes sentimental, passive, gentle. Has trouble with cruelty even when necessary." .
fitd:Unstable a rpg:Condition ; schema:name "Unstable" ; schema:termCode "unstable" ; rpg:stateDefinedInRuleSet fitd:FITDRuleSet ; rpg:llmDescriptor "Volatile emotional state. Can instantly rage, despair, freeze up, or act impulsively." .
fitd:Vicious  a rpg:Condition ; schema:name "Vicious"  ; schema:termCode "vicious"  ; rpg:stateDefinedInRuleSet fitd:FITDRuleSet ; rpg:llmDescriptor "Seeks opportunities to hurt people, even for no good reason. Cruelty is a comfort." .

# Consequence types as rpg:Consequence individuals

fitd:Consequence
    owl:equivalentClass rpg:Consequence ;
    rdfs:label "Consequence" ;
    rdfs:comment "Negative outcome from rolls or enemy action. Five types. Resistable with resistance roll or negated with armor." ;
    rpg:llmDescriptor "Consequence: always choose based on the fiction, not just mechanics. Can be resisted (costs stress) or negated by marking armor." .

fitd:ReducedEffect    a rpg:Consequence ; schema:name "Reduced Effect"    ; schema:termCode "reduced-effect"    ; rpg:consequenceSeverity 1 ; rpg:llmDescriptor "Effect drops one level after all factors. Action partially works but less powerfully." .
fitd:Complication     a rpg:Consequence ; schema:name "Complication"      ; schema:termCode "complication"      ; rpg:consequenceSeverity 2 ; rpg:llmDescriptor "New problem / mounting danger. Minor=1 clock tick, Standard=2, Serious=3. May include +heat, faction status loss." .
fitd:LostOpportunity  a rpg:Consequence ; schema:name "Lost Opportunity"  ; schema:termCode "lost-opportunity"  ; rpg:consequenceSeverity 2 ; rpg:llmDescriptor "Window closed. A different approach is needed. Absolute — no roll to recover this specific moment." .
fitd:WorsePosition    a rpg:Consequence ; schema:name "Worse Position"    ; schema:termCode "worse-position"    ; rpg:consequenceSeverity 2 ; rpg:llmDescriptor "Position degrades: Controlled→Risky, Risky→Desperate. Sets up nastier follow-up consequences." .
fitd:HarmConsequence  a rpg:Consequence ; schema:name "Harm"              ; schema:termCode "harm-consequence"  ; rpg:consequenceSeverity 3 ; rpg:llmDescriptor "Harm recorded at level set by position: Controlled=L1, Risky=L2, Desperate=L3." .

# ================================================================
# SECTION 5 — TRACKERS as rpg:Tracker definitions
# ================================================================

fitd:StressTracker
    a rpg:Tracker ;
    schema:name "Stress" ;
    schema:termCode "stress" ;
    rpg:trackerDefinedInRuleSet fitd:FITDRuleSet ;
    schema:description "Stress boxes 0-9. Spent to push yourself, assist, or resist. Cleared by indulging vice. Reaching max triggers trauma." ;
    rpg:llmDescriptor "Stress (0-9): the primary expenditure resource and risk accumulator. At 9: mark trauma, clear all stress. Vice roll clears stress = highest die." .

fitd:HeatTracker
    a rpg:Tracker ;
    schema:name "Heat" ;
    schema:termCode "heat" ;
    rpg:trackerDefinedInRuleSet fitd:FITDRuleSet ;
    schema:description "Crew suspicion from authorities. 0-9. At 9: +1 wanted level, clear heat. Sources: operation type (0/2/4/6), +1 high-profile, +1 hostile turf, +1 at war, +2 killing." ;
    rpg:llmDescriptor "Heat (0-9): authority attention. At 9 triggers wanted level increase. Ambient texture of heat: 0=anonymous, 5=known, 8=hunted." .

fitd:WantedLevelTracker
    a rpg:Tracker ;
    schema:name "Wanted Level" ;
    schema:termCode "wanted-level" ;
    rpg:trackerDefinedInRuleSet fitd:FITDRuleSet ;
    schema:description "Escalating law enforcement threat 0-4. 4 = life sentence or execution. Reduced only via incarceration entanglement." ;
    rpg:llmDescriptor "Wanted Level (0-4): permanent heat pressure. Level 4 = no legal escape. Changes NPC reactions and law enforcement response scale." .

fitd:RepTracker
    a rpg:ReputationTracker ;
    schema:name "Rep" ;
    schema:termCode "rep" ;
    rpg:trackerDefinedInRuleSet fitd:FITDRuleSet ;
    schema:description "Crew reputation 0-12 (minus turf). Earn 2 per score ±Tier differential. Fill to develop: strengthen hold or pay to raise Tier." ;
    rpg:llmDescriptor "Rep: social capital and advancement currency. Fill tracker (12 − turf count) to develop the crew." .

fitd:StashTracker
    a rpg:Tracker ;
    schema:name "Stash" ;
    schema:termCode "stash" ;
    rpg:trackerDefinedInRuleSet fitd:FITDRuleSet ;
    schema:description "Character long-term savings 0-40. Each 10 stash = 1 lifestyle quality. 2 stash = 1 coin. Retirement outcome." ;
    rpg:llmDescriptor "Stash (0-40): retirement fund and lifestyle indicator. Characters notice when flush or broke." .

fitd:TierTracker
    a rpg:Tracker ;
    schema:name "Tier" ;
    schema:termCode "tier" ;
    rpg:trackerDefinedInRuleSet fitd:FITDRuleSet ;
    schema:description "Crew power level 0-6. Governs quality of assets, gang scale, advancement costs. Raise Tier = new Tier × 8 coin, drops hold to weak." ;
    rpg:llmDescriptor "Tier (0-6): crew's overall power and influence. Tier differential to target determines rep gain/loss and effect level context." .

# ================================================================
# SECTION 6 — PROGRESS CLOCKS as rpg:Clock
# ================================================================

fitd:ProgressClock
    owl:equivalentClass rpg:Clock ;
    rdfs:label "Progress Clock" ;
    rdfs:comment "Segmented circle (4/6/8 segments) tracking pressure, danger, or effort. Named after the obstacle, not the method." ;
    rpg:llmDescriptor "Progress Clock: name after the obstacle/threat, not the method. Ticked by action roll effect (Great=3, Standard=2, Limited=1) or direct GM tick on complications." ;
    rpg:hasLLMArtifact [
        a rpg:LLMArtifact ;
        rpg:artifactType fitd:ArtifactType_StyleGuide ;
        rpg:artifactFormat "markdown" ;
        rpg:artifactLanguage "en" ;
        rpg:artifactText """## Progress Clock — Style Guide

Narrate clock advance with escalating texture:
- **1-2 segments:** Subtle hints, easy to ignore. Background noise.
- **3-4 segments:** Undeniable signs. NPCs react. Options start narrowing.
- **5-6 segments:** Crisis imminent. Walls closing. Players feel the pressure.
- **Full clock:** Consequence lands hard — narrate as a scene change, not a footnote.

Name clocks after the fictional threat: "The Watch Locks Down the Ward" not "Alert Clock"."""
    ] .

# Clock type individuals as rpg:Clock instances with schema:termCode

fitd:DangerClock          a rpg:Clock ; schema:name "Danger Clock"            ; schema:termCode "danger"         ; rpg:clockDefinedInRuleSet fitd:FITDRuleSet ; rpg:totalSegments 6 ; rpg:llmDescriptor "Tracks progressive danger. Ticked on complications. Full = danger materialises." .
fitd:RacingClock          a rpg:Clock ; schema:name "Racing Clock"            ; schema:termCode "racing"         ; rpg:clockDefinedInRuleSet fitd:FITDRuleSet ; rpg:llmDescriptor "Two opposed clocks. First to fill wins. Used for competing efforts." .
fitd:LinkedClock          a rpg:Clock ; schema:name "Linked Clock"            ; schema:termCode "linked"         ; rpg:clockDefinedInRuleSet fitd:FITDRuleSet ; rpg:llmDescriptor "Unlocked by filling another clock. Layered defences or multi-stage challenges." .
fitd:MissionClock         a rpg:Clock ; schema:name "Mission Clock"           ; schema:termCode "mission"        ; rpg:clockDefinedInRuleSet fitd:FITDRuleSet ; rpg:llmDescriptor "Time-sensitive window. If it fills before PCs finish, mission fails." .
fitd:TugOfWarClock        a rpg:Clock ; schema:name "Tug-of-War Clock"        ; schema:termCode "tug-of-war"     ; rpg:clockDefinedInRuleSet fitd:FITDRuleSet ; rpg:llmDescriptor "Ticks both up and down. Back-and-forth struggles like turf wars or revolutions." .
fitd:LongTermProjectClock a rpg:Clock ; schema:name "Long-Term Project Clock" ; schema:termCode "ltp"            ; rpg:clockDefinedInRuleSet fitd:FITDRuleSet ; rpg:totalSegments 8 ; rpg:llmDescriptor "Multi-downtime effort. Basic: 8 segments. May span multiple clocks for complex projects." .
fitd:FactionGoalClock     a rpg:Clock ; schema:name "Faction Clock"           ; schema:termCode "faction-clock"  ; rpg:clockDefinedInRuleSet fitd:FITDRuleSet ; rpg:llmDescriptor "NPC faction's long-term goal. Ticked by GM during downtime. Filled = world changes." .
fitd:HealingClock         a rpg:Clock ; schema:name "Healing Clock"           ; schema:termCode "healing"        ; rpg:clockDefinedInRuleSet fitd:FITDRuleSet ; rpg:totalSegments 4 ; rpg:llmDescriptor "Recovery progress. 4 segments. Filling it reduces all harm by one level." .

# ================================================================
# SECTION 7 — ACTORS: Character, Crew, Faction, Cohort
# owl:equivalentClass to rpg counterparts
# ================================================================

fitd:Actor
    owl:equivalentClass rpg:Actor ;
    rdfs:label "Actor" ;
    rdfs:comment "Abstract base for entities that can take actions: Characters and Cohorts." .

fitd:Character
    owl:equivalentClass rpg:Character ;
    rdfs:label "Character" ;
    rdfs:comment "Player character. Has playbook, action ratings, stress, trauma, harm, vice, load, coin, stash." ;
    rpg:llmSystemPrompt """You are a Forged in the Dark player character.
Speak and act in first person, consistent with your playbook, vice, trauma conditions, and current harm.
If stress ≥ 7, show visible strain. Let trauma conditions subtly colour your words and choices:
- Cold: flat affect, clipped sentences
- Haunted: distracted gaze, muttered names  
- Reckless: dismissive of danger, impatient
- Obsessed: everything relates back to the fixation
Never contradict established fiction. State goal and chosen action, not guaranteed outcome.""" ;
    rpg:hasLLMArtifact [
        a rpg:LLMArtifact ;
        rpg:artifactType fitd:ArtifactType_Descriptor ;
        rpg:artifactFormat "markdown" ;
        rpg:artifactLanguage "en" ;
        rpg:artifactText """## Character

**State managed via rpg: tracker instances:**
| Tracker | Range | Key threshold |
|---|---|---|
| Stress (fitd:StressTracker) | 0-9 | ≥9 → trauma tick |
| Harm slots | L1-L4 | L2=-1d, L3=incapacitated, L4=death |
| Stash (fitd:StashTracker) | 0-40 | 40 = retirement |
| Coin | int | liquid cash |

**Action ratings** modelled as rpg:CharacterAttributeValue instances pointing to fitd:RuleSetAttribute individuals (Hunt, Study, etc.)

**Trauma conditions** modelled as rpg:AppliedState instances pointing to fitd:Condition individuals (Cold, Haunted, etc.)

**Playbook** = rpg:RuleSetClass individual. Special abilities = rpg:SpecialAbility capabilities."""
    ] ;
    rpg:hasLLMArtifact [
        a rpg:LLMArtifact ;
        rpg:artifactType fitd:ArtifactType_StyleGuide ;
        rpg:artifactFormat "markdown" ;
        rpg:artifactLanguage "en" ;
        rpg:artifactText """## Character — Style Guide

Gritty, morally complex, pragmatic. Competent criminals under pressure — not heroes.

- Use concrete sensory detail for harm and stress relief.
- Trauma manifests as behavioural tics, not monologues.
- Avoid melodrama; favour understatement. "I've had worse" over writhing in agony.
- When a character pushes themselves (2 stress), show the physical or mental cost."""
    ] .

fitd:Crew
    owl:equivalentClass rpg:Crew ;
    rdfs:label "Crew" ;
    rdfs:comment "The collective Actor. Tracks Tier, hold, rep, heat, wanted level, coin, lair, hunting grounds, claims, cohorts." ;
    rpg:llmSystemPrompt """You are narrating the collective state of a Forged in the Dark crew.
Reference Tier when assessing whether they can plausibly acquire assets or face opposition.
Reference heat and wanted level when describing how authorities and rivals perceive them.
Reference hold when assessing crew stability — Weak hold means rivals sense vulnerability.
War status (against any faction) halves downtime actions to 1 per PC.""" ;
    rpg:hasLLMArtifact [
        a rpg:LLMArtifact ;
        rpg:artifactType fitd:ArtifactType_Descriptor ;
        rpg:artifactFormat "markdown" ;
        rpg:artifactLanguage "en" ;
        rpg:artifactText """## Crew

**Key state (all as rpg:TrackerInstance):**
| Tracker | Effect |
|---|---|
| Tier (0-6) | Base quality for all assets; gang scale |
| Hold (Weak/Strong) | Weak → rivals can challenge |
| Rep (0-12-turf) | Fill to develop: strengthen hold or raise Tier |
| Heat (0-9) | At 9 → +1 wanted level, clear heat |
| Wanted Level (0-4) | 4 = life sentence |
| Crew Coin | Max 4 (8 with vault, 16 with second vault) |

**Claim map:** Claims seized via score. Turf claims reduce rep threshold.
**Cohorts** = rpg:Creature actors with crew as owner.
**War state:** +1 heat per score, -1 hold, 1 downtime action per PC."""
    ] ;
    rpg:hasLLMArtifact [
        a rpg:LLMArtifact ;
        rpg:artifactType fitd:ArtifactType_StyleGuide ;
        rpg:artifactFormat "markdown" ;
        rpg:artifactLanguage "en" ;
        rpg:artifactText """## Crew — Style Guide

The crew is an organism with its own reputation and pressure.

- Lair reflects current state: Tier 0 = cramped and improvised; Tier III = earned comforts.
- Heat feels like a tightening noose: more patrols, side glances, informants getting nervous.
- Rep is social capital — NPCs treat Tier I vs Tier III crews visibly differently."""
    ] .

fitd:Faction
    owl:equivalentClass rpg:Faction ;
    rdfs:label "Faction" ;
    rdfs:comment "NPC organization with Tier (0-VI), hold, faction clocks, and status relationships." ;
    rpg:llmSystemPrompt """You are voicing or reasoning about a Forged in the Dark faction.
A faction acts in its own interest, guided by its tier, hold, and active faction clocks.
Consult the current relationship status (-3 to +3) when the crew interacts:
- Negative: looks for opportunities to harm or hinder
- Neutral: transactional only
- Positive: helps within comfort zone
Status changes ±1 per significant interaction. War (-3) imposes mechanical penalties on the crew.""" ;
    rpg:hasLLMArtifact [
        a rpg:LLMArtifact ;
        rpg:artifactType fitd:ArtifactType_Descriptor ;
        rpg:artifactFormat "markdown" ;
        rpg:artifactLanguage "en" ;
        rpg:artifactText """## Faction

**Status ladder (rpg:Relationship with rpg:relationshipScore):**
| Score | Label | Behaviour |
|---|---|---|
| -3 | War | Actively attacks; crew +1 heat/score, -1 hold, 1 downtime action |
| -2 | Hostile | Attacks when convenient |
| -1 | Interfering | Opportunistic obstruction |
| 0 | Neutral | Ignores unless provoked |
| +1 | Helpful | Assists if cost is low |
| +2 | Friendly | Assists unless serious risk |
| +3 | Allies | Assists even at personal cost |

**Faction clocks** (rpg:Clock instances) represent long-term goals. Ticked by GM each downtime. Filled = world changes."""
    ] ;
    rpg:hasLLMArtifact [
        a rpg:LLMArtifact ;
        rpg:artifactType fitd:ArtifactType_StyleGuide ;
        rpg:artifactFormat "markdown" ;
        rpg:artifactLanguage "en" ;
        rpg:artifactText """## Faction — Style Guide

Factions are institutions, not individuals. Voice them through representatives.

- Hostile: cold, transactional, or contemptuous — never cartoonishly evil.
- Allied: warmth is conditional and professional, not sentimental.
- Higher-tier factions speak with calm confidence. Lower-tier are scrappier, more reactive.
- Faction goals feel inevitable — their clocks tick whether or not the crew pays attention."""
    ] .

fitd:Cohort
    owl:equivalentClass rpg:Creature ;
    rdfs:label "Cohort" ;
    rdfs:comment "Gang (group NPC) or Expert (single NPC) working for the crew. Quality = crew Tier. Breaks at harm L3." ;
    rpg:llmDescriptor """Cohort: Gang or Expert. Quality = crew Tier. Rolls quality dice for actions.
Harm track same as characters (L1-L4); breaks at L3 unless crew abilities prevent it.
Edge: +1 effect in specialty. Flaw: weakness that triggers gang trouble entanglements.
Scale (Gang only): Tier 0=1-2 people, Tier I=3-6, Tier II=12, Tier III=20, Tier IV=40, Tier V+=80.""" .

# ================================================================
# SECTION 8 — PLAYBOOK, SPECIAL ABILITY, ADVANCEMENT
# ================================================================

fitd:Playbook
    owl:equivalentClass rpg:RuleSetClass ;
    rdfs:label "Playbook" ;
    rdfs:comment "Character template. Defines starting action dots, special ability pool, XP trigger, contacts, items." ;
    rpg:llmDescriptor "Playbook: focus and preferred method, not immutable identity. Advancement: fill XP track → new special ability OR advance an attribute track (+1 action dot)." .

fitd:SpecialAbility
    owl:equivalentClass rpg:SpecialAbility ;
    rdfs:label "Special Ability" ;
    rdfs:comment "Rule-breaking power from a playbook or crew. May grant bonus dice, special armor uses, unique mechanics, or immunities." ;
    rpg:llmDescriptor "Special Ability: explicitly breaks or bends normal rules. Defines the playbook's mechanical identity. May allow push-yourself for no stress, use special armor, or grant bonus dice in specific circumstances." .

fitd:XPTrigger
    owl:equivalentClass rpg:AdvancementRule ;
    rdfs:label "XP Trigger" ;
    rdfs:comment "Condition granting 1-2 XP when met during or at end of session." ;
    rpg:llmDescriptor "XP Trigger: evaluated at end of session. Standard: desperate roll (1 XP attribute), expressed beliefs/drives (1-2 XP), vice/trauma struggle (1-2 XP), playbook-specific trigger (1-2 XP)." .

fitd:CrewXPTrigger
    a rpg:AdvancementRule ;
    rdfs:subClassOf fitd:XPTrigger ;
    schema:name "Crew XP Trigger" ;
    rpg:llmDescriptor "Crew-level XP: crew-type specific trigger, contending with challenges above station, bolstering reputation, expressing crew goals/nature." .

fitd:CrewAdvance
    owl:equivalentClass rpg:Unlock ;
    rdfs:label "Crew Advance" ;
    rdfs:comment "When crew XP fills: take new crew special ability OR mark two upgrade boxes." ;
    rpg:llmDescriptor "Crew Advance: binary choice — new special ability (one box) OR two upgrade boxes. Cannot split between both." .

# ================================================================
# SECTION 9 — FACTION RELATIONSHIP as rpg:Relationship
# ================================================================

fitd:FactionRelationship
    owl:equivalentClass rpg:Relationship ;
    rdfs:label "Faction Relationship" ;
    rdfs:comment "Directional status between two factions or between a faction and the crew. rpg:relationshipScore -3 to +3." ;
    rpg:llmDescriptor """FactionRelationship: directional edge. fromActor → toActor with rpg:relationshipScore (-3 War to +3 Allies).
Not necessarily symmetric. Status changes ±1 per significant interaction (max ±2 per single event).
War (-3) triggers: +1 heat per crew score, -1 crew hold, 1 downtime action per PC.""" .

# ================================================================
# SECTION 10 — ITEMS as rpg:Item
# ================================================================

fitd:Item
    owl:equivalentClass rpg:Item ;
    rdfs:label "Item" ;
    rdfs:comment "Equipment a character may carry. Fine items +1 quality stacking with Tier. Load cost 0-2 slots." ;
    rpg:llmDescriptor "Item: definition term. Possession = rpg:ItemInstance on Actor. Fine quality (+1 quality on top of Tier). Drawbacks: Complex, Conspicuous, Consumable, Rare, Unreliable, Volatile." .

# Drawback tag individuals

fitd:ComplexDrawback     a rpg:Tag ; schema:name "Complex"     ; skos:prefLabel "Complex"     ; rpg:llmDescriptor "Multi-stage creation: one activity + roll per stage." .
fitd:ConspicuousDrawback a rpg:Tag ; schema:name "Conspicuous" ; skos:prefLabel "Conspicuous" ; rpg:llmDescriptor "+1 heat if used any number of times on an operation." .
fitd:ConsumableDrawback  a rpg:Tag ; schema:name "Consumable"  ; skos:prefLabel "Consumable"  ; rpg:llmDescriptor "Limited uses (alchemicals: usually 1 use)." .
fitd:RareDrawback        a rpg:Tag ; schema:name "Rare"        ; skos:prefLabel "Rare"        ; rpg:llmDescriptor "Requires a rare item or material when crafted." .
fitd:UnreliableDrawback  a rpg:Tag ; schema:name "Unreliable"  ; skos:prefLabel "Unreliable"  ; rpg:llmDescriptor "Fortune roll on use to see how well it performs." .
fitd:VolatileDrawback    a rpg:Tag ; schema:name "Volatile"    ; skos:prefLabel "Volatile"    ; rpg:llmDescriptor "Dangerous side-effect for user on activation. May be resisted." .

# Armor types as rpg:Tag

fitd:StandardArmorTag a rpg:Tag ; schema:name "Standard Armor" ; skos:prefLabel "Standard Armor" ; rpg:llmDescriptor "Mark to reduce consequence by one level. Restored when load chosen for next score." .
fitd:HeavyArmorTag    a rpg:Tag ; schema:name "Heavy Armor"    ; skos:prefLabel "Heavy Armor"    ; rpg:llmDescriptor "Mark after standard armor for a second reduction. Increases load." .
fitd:SpecialArmorTag  a rpg:Tag ; schema:name "Special Armor"  ; skos:prefLabel "Special Armor"  ; rpg:llmDescriptor "Activated by specific special abilities. Negates defined consequence types." .

# Load tags

fitd:LightLoadTag      a rpg:Tag ; schema:name "Light Load (1-3)"     ; skos:prefLabel "Light"      ; rpg:llmDescriptor "Faster, less conspicuous. Blend with citizens." .
fitd:NormalLoadTag     a rpg:Tag ; schema:name "Normal Load (4-5)"    ; skos:prefLabel "Normal"     ; rpg:llmDescriptor "Look like a scoundrel, ready for trouble." .
fitd:HeavyLoadTag      a rpg:Tag ; schema:name "Heavy Load (6)"       ; skos:prefLabel "Heavy"      ; rpg:llmDescriptor "Slower. Look like an operative on a mission." .
fitd:EncumberedLoadTag a rpg:Tag ; schema:name "Encumbered Load (7-9)"; skos:prefLabel "Encumbered" ; rpg:llmDescriptor "Overburdened; only very slow movement." .

# ================================================================
# SECTION 11 — FITD-EXCLUSIVE CONCEPTS
# Score, Flashback, Plan, Vice, Ritual, Magnitude, Teamwork, Payoff
# ================================================================

# --- Score ---

fitd:Score
    a owl:Class ;
    rdfs:label "Score" ;
    rdfs:comment "A single criminal operation. Lifecycle: Plan → Engagement Roll → Score Phase → Outcome → Downtime." ;
    rpg:llmDescriptor "Score: the primary dramatic unit. Lifecycle: choose plan + detail → engagement roll → score phase (action rolls, flashbacks, teamwork) → outcome → downtime (payoff, heat, entanglement)." ;
    rpg:hasLLMArtifact [
        a rpg:LLMArtifact ;
        rpg:artifactType fitd:ArtifactType_Descriptor ;
        rpg:artifactFormat "markdown" ;
        rpg:artifactLanguage "en" ;
        rpg:artifactText """## Score

**Heat formula:** base (0 quiet/2 normal/4 exposing/6 wild) + modifiers:
+1 high-profile target, +1 hostile turf, +1 at war, +2 killing involved.

**Payoff rep:** base 2, +1 per tier target exceeds crew, -1 per tier below (min 0). Zero if completely quiet.

**Score types:** CriminalActivity / ClaimSeizure / SpecialMission

**Plan types (6):** Assault (point of attack), Deception (method), Stealth (infiltration point), Occult (arcane method), Social (connection), Transport (route and means)."""
    ] ;
    rpg:hasLLMArtifact [
        a rpg:LLMArtifact ;
        rpg:artifactType fitd:ArtifactType_StyleGuide ;
        rpg:artifactFormat "markdown" ;
        rpg:artifactLanguage "en" ;
        rpg:artifactText """## Score — Style Guide

A score is a pressure cooker. Present tense, close third or second person.

- Engagement roll: drop the crew into the middle of the action. Skip approach montages.
- Controlled opening: a moment of calm advantage before complications arrive.
- Risky opening: something is already wrong or about to be. Tension is immediate.
- Desperate opening: already in deep trouble. Survival is the first question.
- Track fiction carefully — consequences should feel earned, not arbitrary."""
    ] .

fitd:ScoreType_CriminalActivity a owl:NamedIndividual ; schema:name "Criminal Activity" ; schema:termCode "criminal-activity" ; rdfs:comment "Core score type determined by crew type." .
fitd:ScoreType_ClaimSeizure     a owl:NamedIndividual ; schema:name "Claim Seizure"     ; schema:termCode "claim-seizure"     ; rdfs:comment "Operation to seize a claim from another faction." .
fitd:ScoreType_SpecialMission   a owl:NamedIndividual ; schema:name "Special Mission"   ; schema:termCode "special-mission"   ; rdfs:comment "Player-defined goal not covered by other types." .

fitd:AssaultPlan    a owl:NamedIndividual ; schema:name "Assault"    ; schema:termCode "plan-assault"    ; rdfs:comment "Required detail: point of attack." .
fitd:DeceptionPlan  a owl:NamedIndividual ; schema:name "Deception"  ; schema:termCode "plan-deception"  ; rdfs:comment "Required detail: method of deception." .
fitd:StealthPlan    a owl:NamedIndividual ; schema:name "Stealth"    ; schema:termCode "plan-stealth"    ; rdfs:comment "Required detail: point of infiltration." .
fitd:OccultPlan     a owl:NamedIndividual ; schema:name "Occult"     ; schema:termCode "plan-occult"     ; rdfs:comment "Required detail: arcane method." .
fitd:SocialPlan     a owl:NamedIndividual ; schema:name "Social"     ; schema:termCode "plan-social"     ; rdfs:comment "Required detail: social connection." .
fitd:TransportPlan  a owl:NamedIndividual ; schema:name "Transport"  ; schema:termCode "plan-transport"  ; rdfs:comment "Required detail: route and means." .

# --- Flashback ---

fitd:Flashback
    a owl:Class ;
    rdfs:label "Flashback" ;
    rdfs:comment "Mid-score technique: invoke a past action to affect the current situation. Cannot undo established fiction." ;
    rpg:llmDescriptor """Flashback: retroactive preparation invoked during a score. Adjudication:
1. Does it contradict established fiction? If yes: not allowed.
2. Stress cost: 0=ordinary/easy opportunity, 1=complex/unlikely, 2+=elaborate contingency.
3. Requires a roll? Simple plausible actions: stress cost only. Uncertain: action or fortune roll.
4. Downtime activity in flashback: costs 1 coin or 1 rep instead of stress.""" ;
    rpg:hasLLMArtifact [
        a rpg:LLMArtifact ;
        rpg:artifactType fitd:ArtifactType_StyleGuide ;
        rpg:artifactFormat "markdown" ;
        rpg:artifactLanguage "en" ;
        rpg:artifactText """## Flashback — Style Guide

Brief and cinematic. Past tense. Cut back to the present the moment the relevant detail is established.

The flashback earns its stress cost through specificity — a vague flashback deserves 2 stress; a vivid, detailed one deserves 0."""
    ] .

# --- Teamwork Maneuvers ---

fitd:Assist      a owl:NamedIndividual ; schema:name "Assist"       ; schema:termCode "assist"       ; rpg:llmDescriptor "Describe help, take 1 stress, give +1d. One assist per roll. May suffer consequences." .
fitd:GroupAction a owl:NamedIndividual ; schema:name "Group Action" ; schema:termCode "group-action"  ; rpg:llmDescriptor "Multiple PCs roll same action. Best result counts for all. Leader takes 1 stress per 1-3 rolled by participants." .
fitd:Protect     a owl:NamedIndividual ; schema:name "Protect"      ; schema:termCode "protect"       ; rpg:llmDescriptor "Step in to face a consequence in place of teammate. Suffer it instead; may resist as normal." .
fitd:SetUp       a owl:NamedIndividual ; schema:name "Set Up"       ; schema:termCode "set-up"        ; rpg:llmDescriptor "Indirect effect on obstacle. Success gives following PCs +1 effect or improved position." .

# --- Downtime Activities as rpg:Phase individuals ---

fitd:AcquireAsset   a rpg:Phase ; schema:name "Acquire Asset"    ; schema:termCode "acquire-asset"   ; rpg:llmDescriptor "Roll crew Tier. Quality: Crit=Tier+2, 6=Tier+1, 4-5=Tier, 1-3=Tier-1. Coin 2-for-1 to exceed Tier+2." .
fitd:LongTermProject a rpg:Phase ; schema:name "Long-Term Project" ; schema:termCode "ltp-activity"   ; rpg:llmDescriptor "Tick project clock. Ticks: Crit=5, 6=3, 4-5=2, 1-3=1." .
fitd:Recover        a rpg:Phase ; schema:name "Recover"          ; schema:termCode "recover"         ; rpg:llmDescriptor "Roll healer quality or Tinker. Same tick scale as LTP. Filling healing clock reduces all harm one level." .
fitd:ReduceHeat     a rpg:Phase ; schema:name "Reduce Heat"      ; schema:termCode "reduce-heat"     ; rpg:llmDescriptor "Roll action. Heat reduced: Crit=5, 6=3, 4-5=2, 1-3=1." .
fitd:Train          a rpg:Phase ; schema:name "Train"            ; schema:termCode "train"           ; rpg:llmDescriptor "Mark 1 XP in attribute or playbook track. +1 if crew training upgrade applies. Each track once per downtime." .
fitd:IndulgeVice    a rpg:Phase ; schema:name "Indulge Vice"     ; schema:termCode "indulge-vice"    ; rpg:llmDescriptor "Vice Roll: pool = lowest attribute rating. Clear stress = highest die. Overindulge if clearing more than marked stress." .

# Overindulgence consequences

fitd:AttractTrouble a rpg:Consequence ; schema:name "Attract Trouble" ; schema:termCode "attract-trouble" ; rpg:llmDescriptor "Roll additional entanglement." .
fitd:Brag           a rpg:Consequence ; schema:name "Brag"           ; schema:termCode "brag"            ; rpg:llmDescriptor "+2 heat from boasting about the vice." .
fitd:Lost           a rpg:Consequence ; schema:name "Lost"           ; schema:termCode "lost"            ; rpg:llmDescriptor "Character vanishes for weeks. Returns having healed all harm." .
fitd:Tapped         a rpg:Consequence ; schema:name "Tapped"         ; schema:termCode "tapped"          ; rpg:llmDescriptor "Current vice purveyor cuts the character off. Must find a new source." .

# --- Vice ---

fitd:Vice
    a owl:Class ;
    rdfs:label "Vice" ;
    rdfs:comment "A character's obsession, indulged during downtime to clear stress. Has a named purveyor." ;
    rpg:llmDescriptor """Vice: the only official stress relief. Not indulging costs stress = trauma count (can cascade into trauma).
Types: Faith, Gambling, Luxury, Obligation, Pleasure, Stupor, Weird.
Each vice has a named purveyor (NPC or location). Make the vice scene specific and brief.""" ;
    rpg:hasLLMArtifact [
        a rpg:LLMArtifact ;
        rpg:artifactType fitd:ArtifactType_StyleGuide ;
        rpg:artifactFormat "markdown" ;
        rpg:artifactLanguage "en" ;
        rpg:artifactText """## Vice — Style Guide

Vice scenes: intimate, specific, briefly rendered.

- The purveyor is a named, real presence with personality.
- Show the indulgence obliquely — suggest rather than describe in full.
- Overindulgence = loss of control. The character meant to stop and didn't.
- Lost consequence: time-skip. Character resurfaces somewhere unexpected, not sure how they got there, oddly at peace and fully healed."""
    ] .

fitd:FaithVice      a rpg:Tag ; schema:name "Faith"      ; skos:prefLabel "Faith"      ; rpg:llmDescriptor "Ritual, prayer, devotion to deity or cause." .
fitd:GamblingVice   a rpg:Tag ; schema:name "Gambling"   ; skos:prefLabel "Gambling"   ; rpg:llmDescriptor "Cards, dice, risky bets, the rush of chance." .
fitd:LuxuryVice     a rpg:Tag ; schema:name "Luxury"     ; skos:prefLabel "Luxury"     ; rpg:llmDescriptor "Fine food, clothes, comfort, extravagance." .
fitd:ObligationVice a rpg:Tag ; schema:name "Obligation" ; skos:prefLabel "Obligation" ; rpg:llmDescriptor "Family, debt, a person the character cannot say no to." .
fitd:PleasureVice   a rpg:Tag ; schema:name "Pleasure"   ; skos:prefLabel "Pleasure"   ; rpg:llmDescriptor "Physical indulgence: drink, drugs, intimacy." .
fitd:StuporVice     a rpg:Tag ; schema:name "Stupor"     ; skos:prefLabel "Stupor"     ; rpg:llmDescriptor "Numbing: heavy drink, oblivion-seeking substances." .
fitd:WeirdVice      a rpg:Tag ; schema:name "Weird"      ; skos:prefLabel "Weird"      ; rpg:llmDescriptor "Arcane dabbling, dangerous experiments, forbidden knowledge." .

# --- Payoff ---

fitd:Payoff
    a owl:Class ;
    rdfs:label "Payoff" ;
    rdfs:comment "Post-score income in coin and rep. Base 2 rep ± Tier differential. Coin by operation scale." ;
    rpg:llmDescriptor "Payoff: base 2 rep ±Tier differential (min 0 rep). Zero rep if operation completely quiet. Coin: 2 minor / 4 small / 6 standard / 8 big / 10+ major operation." .

# --- Ritual ---

fitd:Ritual
    a owl:Class ;
    rdfs:label "Ritual" ;
    rdfs:comment "Arcane procedure summoning a supernatural effect. Requires Ritual special ability. Learned via 8-segment LTP clock." ;
    rpg:llmDescriptor """Ritual: transgressive arcane act. Requires Ritual special ability.
Learned via 8-segment LTP clock from a discovered source.
Performance: min 1 downtime activity, stress cost = magnitude value (reduce by extending duration).
Dangerous: Attune roll required. Uncertain: Fortune roll.
Each ritual defines: effect (what it does and how it's weird), price, belief/fear instilled.""" ;
    rpg:hasLLMArtifact [
        a rpg:LLMArtifact ;
        rpg:artifactType fitd:ArtifactType_StyleGuide ;
        rpg:artifactFormat "markdown" ;
        rpg:artifactLanguage "en" ;
        rpg:artifactText """## Ritual — Style Guide

Rituals are transgressive acts at the edge of what the world permits.

- Preparation has sensory weight: smell of components, quality of silence as the ritual begins.
- The effect arrives with wrongness — real and present but outside natural law.
- The price is never trivial. Show the character paying it, not just noting it.
- The instilled belief/fear manifests subtly afterward: a new nervous habit, an aversion, an obsession."""
    ] .

# --- Magnitude ---

fitd:Magnitude
    a owl:Class ;
    rdfs:label "Magnitude" ;
    rdfs:comment "0-6 scale measuring power of supernatural entities and arcane energies. Used as fortune roll pool and ritual stress cost guideline." ;
    rpg:llmDescriptor """Magnitude (0-6): assessed across three dimensions:
- Area/Scale: 0=closet/1-2 people → 6=city-wide/160 people
- Duration/Range: 0=moments/reach → 6=a week/across the city
- Tier/Quality/Force: 0=Poor/Weak → 6=Legendary/Devastating
Use as dice pool for fortune rolls involving supernatural entities.""" .

# --- Crafting and Invention ---

fitd:Crafting
    a owl:Class ;
    rdfs:label "Crafting" ;
    rdfs:comment "Downtime activity to create alchemicals, items, gadgets, or arcane implements. Roll Tinker. Quality = Tier ± result." ;
    rpg:llmDescriptor "Crafting: Roll Tinker. Quality: Crit=Tier+2, 6=Tier+1, 4-5=Tier, 1-3=Tier-1. Coin 1-for-1 to raise quality. Types: Mundane, Alchemical, Arcane, Spark-Craft." .

fitd:Invention
    a owl:Class ;
    rdfs:label "Invention" ;
    rdfs:comment "Novel formula or design. Requires Study LTP (8-segment clock). Answers 4 questions. Only inventor or learned person can craft." ;
    rpg:llmDescriptor "Invention: original creation. LTP to invent: (1) type and function, (2) minimum quality, (3) why obscure/dangerous, (4) drawbacks. Only inventor or pupil can craft it." .

# Creation type tags

fitd:MundaneCreation   a rpg:Tag ; schema:name "Mundane"    ; skos:prefLabel "Mundane"    ; rpg:llmDescriptor "Standard non-magical item." .
fitd:AlchemicalCreation a rpg:Tag ; schema:name "Alchemical" ; skos:prefLabel "Alchemical" ; rpg:llmDescriptor "Chemical or biological. Must have Consumable drawback. Requires Alchemist ability for bonus." .
fitd:ArcaneCreation    a rpg:Tag ; schema:name "Arcane"     ; skos:prefLabel "Arcane"     ; rpg:llmDescriptor "Magically enhanced. Requires Strange Methods ability for bonus." .
fitd:SparkCraftCreation a rpg:Tag ; schema:name "Spark-Craft"; skos:prefLabel "Spark-Craft"; rpg:llmDescriptor "Electroplasmic mechanical gadget. Requires Artificer ability for bonus." .

# --- Claim ---

fitd:Claim
    a owl:Class ;
    rdfs:label "Claim" ;
    rdfs:comment "Territory or asset on the crew's claim map. Provides ongoing benefit while held. Some count as turf (up to 6)." ;
    rpg:llmDescriptor "Claim: seized from controlling factions via score. Provides ongoing mechanical benefit. Turf claims reduce rep threshold. Max 6 turf from claims." .

# ================================================================
# SECTION 12 — LLMArtifact Type vocabulary
# ================================================================

fitd:ArtifactType_Descriptor
    a rpg:LLMArtifactType ;
    schema:name "Descriptor" ;
    schema:termCode "descriptor" ;
    schema:description "Explains what an element is, when to use it, and what constraints matter for LLM reasoning." .

fitd:ArtifactType_SystemPrompt
    a rpg:LLMArtifactType ;
    schema:name "SystemPrompt" ;
    schema:termCode "system-prompt" ;
    schema:description "Full system-prompt text for an Actor node, injected into LLM context." .

fitd:ArtifactType_StyleGuide
    a rpg:LLMArtifactType ;
    schema:name "StyleGuide" ;
    schema:termCode "style-guide" ;
    schema:description "Tonal and narrative guidance for GM/LLM narration of this element." .

# ================================================================
# END OF ONTOLOGY
# ================================================================
